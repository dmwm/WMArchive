<!DOCTYPE html>
<html lang="en">
<head>
    <title>WMArchive data-service</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" type="text/css" href="/wmarchive/web/static/css/main.css" />
</head>
<body>

  <header id="site-header">
    <div class="container-fluid">
      <nav class="navbar navbar-dark">
        <a class="navbar-brand" href="/wmarchive/web"><img id="logo-header" src="/wmarchive/web/static/images/cms-logo.png"></a>
        <a class="navbar-brand" href="/wmarchive/web">CMS WMArchive Data Service</a>
        <ul class="nav navbar-nav nav-pills pull-xs-right" id="nav-main-container">
          <!-- nav-main.js -->
        </ul>
      </nav>
    </div>
  </header>

  <section id="main">
    <!-- Main Content -->
  </section>

  <footer id="site-footer"><!-- footer.js --></footer>


  <!-- Dependencies -->

  <!-- jQuery -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/jquery.js"></script>

  <!-- [Backbone.js](http://backbonejs.org) -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/underscore.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/backbone.js"></script>

  <!-- Moment.js -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/moment-with-locales.js"></script>
  <script type="text/javascript">
    var locale = window.navigator.userLanguage || window.navigator.language;
    moment.locale(locale);
  </script>

  <!-- Bootstrap -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/tether.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/bootstrap.js"></script>

  <!-- [Bootstrap DateRangePicker](https://github.com/dangrossman/bootstrap-daterangepicker) -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/daterangepicker.js"></script>

  <!-- Typeahead -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/typeahead.js"></script>

  <!-- [D3.js](https://d3js.org) -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/d3.js"></script>

  <!-- Numeral -->
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/numeral.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/deps/numeral-languages.js"></script>
  <script type="text/javascript">
    var locale = window.navigator.userLanguage || window.navigator.language;
    try {
      numeral.language(locale);
    } catch (e) {
      numeral.language(locale.split('-')[0]);
    }
  </script>


  <!-- Application -->

  <!-- Models -->
  <script type="text/javascript" src="/wmarchive/web/static/js/models/scope.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/models/visualization.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/models/visualizations.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/models/summary.js"></script>

  <!-- Utils -->
  <script type="text/javascript" src="/wmarchive/web/static/js/utils/format.js"></script>

  <!-- Views -->
  <script type="text/javascript" src="/wmarchive/web/static/js/views/nav-main.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/filter.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/add-filter-button.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/timeframe-selector.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/scope.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/metrics.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/metric-selector.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/footer.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/status.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/jobs.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/performance.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/views/info.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/visualizations/visualization.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/visualizations/time.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/visualizations/bars.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/visualizations/pies.js"></script>
  <script type="text/javascript" src="/wmarchive/web/static/js/visualizations/heatmap.js"></script>

  <!-- Router -->
  <script type="text/javascript" src="/wmarchive/web/static/js/routers/router.js"></script>

  <!-- Entry Point -->
  <script type="text/javascript">
    // Create singleton stateful scope object with default values
    app.scope = new app.Scope();

    // Visualizations are managed by this collection in response to scope changes
    app.visualizations = new app.Visualizations();
    // The summary is always shown and also responds to scope changes
    app.summary = new app.Summary();

    // Render common UI components
    new app.NavMainView({ el: $('#nav-main-container') }).render();
    new app.FooterView({ el: $('#site-footer') }).render();

    // Setup router
    app.router = new app.Router();
    Backbone.history.start({ pushState: true, root: "/wmarchive/web/" });
  </script>

</body>
</html>
